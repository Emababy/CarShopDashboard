(function(){var a={3225:function(a,e,r){"use strict";var t=r(9242),s=r(3396);function i(a,e){const r=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(r)}var l=r(89);const c={},o=(0,l.Z)(c,[["render",i]]);var n=o,d=r(2483),m=r(7139);const u=a=>((0,s.dD)("data-v-143f1f2e"),a=a(),(0,s.Cn)(),a),h={class:"home container"},g=u((()=>(0,s._)("h1",{class:"text-center mb-4"},"Car Shop",-1))),p={class:"mb-3"},v=u((()=>(0,s._)("div",{class:"clearfix"},null,-1))),C={key:0},f={role:"alert",class:"alert alert-warning fade show"},b={class:"row justify-content-around"},D={key:0,class:"text-center"},M=u((()=>(0,s._)("div",{class:"spinner-border text-primary",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1))),w=[M],I=["src","alt","title"],_={class:"text-center mb-2"},E={class:"float-start"},N={class:"btn btn-outline-success"},P={class:"float-end"},y=["data-bs-target"],k=u((()=>(0,s._)("div",{class:"clearfix"},null,-1))),S=u((()=>(0,s._)("hr",{class:"bg-success"},null,-1))),Y={class:"float-start"},V=["data-bs-target"],x={class:"float-end"},U=["onClick"];function T(a,e,r,t,i,l){const c=(0,s.up)("ShowCarDetails"),o=(0,s.up)("DeleteCar");return(0,s.wg)(),(0,s.iD)("div",h,[g,(0,s._)("div",p,[(0,s._)("button",{class:"btn btn-success float-end",onClick:e[0]||(e[0]=(...a)=>l.viewAddNewCar&&l.viewAddNewCar(...a))}," Add New Car "),v]),i.emptyCars?((0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("div",f,(0,m.zw)(i.emptyCars),1)])):(0,s.kq)("",!0),(0,s._)("div",b,[i.loading?((0,s.wg)(),(0,s.iD)("div",D,w)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(i.cars,((a,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"col-12 col-md-6 col-lg-4 each-car",key:e},[(0,s._)("img",{src:l.getImageUrl(a.image),class:"rounded img-fluid d-block mx-auto mb-3",alt:a.name,title:a.name},null,8,I),(0,s._)("h4",_,(0,m.zw)(a.name)+" "+(0,m.zw)(a.modelYear),1),(0,s._)("div",null,[(0,s._)("div",E,[(0,s._)("button",N,(0,m.zw)(l.formatPrice(a.price)),1)]),(0,s._)("div",P,[(0,s._)("button",{class:"btn btn-outline-primary",type:"button","data-bs-toggle":"modal","data-bs-target":"#ShowCarDetails"+a.ID}," More Details ",8,y),(0,s.Wm)(c,{carData:a},null,8,["carData"])])]),k,S,(0,s._)("div",null,[(0,s._)("div",Y,[(0,s._)("button",{class:"btn btn-danger",type:"button","data-bs-toggle":"modal","data-bs-target":"#deleteCar-"+a.ID}," Delete ",8,V),(0,s.Wm)(o,{carData:a},null,8,["carData"])]),(0,s._)("div",x,[(0,s._)("button",{type:"button",class:"btn btn-success",onClick:e=>l.UpdatePage(a)}," Update ",8,U)])])])))),128))])])}r(560);const z=["id","aria-labelledby"],j={class:"modal-dialog"},F={class:"modal-content"},O={class:"modal-header"},A={class:"modal-title"},J=(0,s._)("button",{class:"btn-close",type:"button","aria-label":"close","data-bs-dismiss":"modal"},null,-1),q={class:"modal-body eachCarDetails"},B=["src","alt","title"],H={class:"text-center mb-2"},$=(0,s._)("hr",{class:"bg-info"},null,-1),Z={class:"text-muted bw"},R={class:"float-start"},W={class:"btn btn-outline-success"};function G(a,e,r,t,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{class:"modal fade",tabindex:"-1",id:"ShowCarDetails"+r.carData.ID,"aria-labelledby":r.carData.ID,"aria-hidden":"true"},[(0,s._)("div",j,[(0,s._)("div",F,[(0,s._)("div",O,[(0,s._)("h5",A,(0,m.zw)(r.carData.name),1),J]),(0,s._)("div",q,[(0,s._)("img",{src:l.getImageUrl(r.carData.image),class:"rounded img-fluid d-block mx-auto mb-3",alt:r.carData.name,title:r.carData.name},null,8,B),(0,s._)("h4",H,(0,m.zw)(r.carData.name)+" "+(0,m.zw)(r.carData.modelYear),1),$,(0,s._)("p",Z,"Description: "+(0,m.zw)(r.carData.description),1),(0,s._)("div",null,[(0,s._)("div",R,[(0,s._)("button",W,(0,m.zw)(l.formatPrice(r.carData.price)),1)])])])])])],8,z)])}var L={name:"ShowCarDetails",props:{carData:Object},methods:{getImageUrl(a){let e=r(5356);return e("./"+a)},formatPrice(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)}}};const X=(0,l.Z)(L,[["render",G]]);var K=X;const Q=["id","aria-labelledby"],aa={class:"modal-dialog"},ea={class:"modal-content"},ra={class:"modal-header"},ta={class:"modal-title"},sa=(0,s._)("button",{class:"btn-close",type:"button","aria-label":"close","data-bs-dismiss":"modal"},null,-1),ia={class:"modal-body eachCarDetails"},la=["src","alt","title"],ca={class:"text-center mb-2"},oa=(0,s._)("hr",{class:"bg-info"},null,-1),na={class:"d-flex justify-content-between"},da=(0,s._)("button",{class:"btn btn-outline-warning",type:"button","data-bs-dismiss":"modal","aria-label":"Close"}," Cancel ",-1),ma=["disabled"],ua={class:"clearfix my-3"};function ha(a,e,r,t,i,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{class:(0,m.C_)(["modal fade","deleteCar-"+r.carData.ID]),tabindex:"-1",id:"deleteCar-"+r.carData.ID,"aria-labelledby":r.carData.ID,"aria-hidden":"true"},[(0,s._)("div",aa,[(0,s._)("div",ea,[(0,s._)("div",ra,[(0,s._)("h5",ta,(0,m.zw)(r.carData.name),1),sa]),(0,s._)("div",ia,[(0,s._)("img",{src:l.getImageUrl(r.carData.image),class:"rounded img-fluid d-block mx-auto mb-3",alt:r.carData.name,title:r.carData.name},null,8,la),(0,s._)("h4",ca,(0,m.zw)(r.carData.name)+" "+(0,m.zw)(r.carData.modelYear),1),oa,(0,s._)("div",na,[da,(0,s._)("button",{class:"btn btn-outline-danger",type:"button",onClick:e[0]||(e[0]=a=>l.deleteCar(r.carData)),disabled:i.result.success||i.result.error}," Delete ",8,ma)]),(0,s._)("div",ua,[i.result.message?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,m.C_)(["alert",i.result.success?"alert-success":"alert-danger"]),role:"alert"},(0,m.zw)(i.result.message),3)):(0,s.kq)("",!0)])])])])],10,Q)])}var ga=r(1076),pa={name:"DeleteCar",props:{carData:Object},data(){return{result:{success:!1,error:!1,message:""}}},methods:{getImageUrl(a){let e=r(5356);return e("./"+a)},async deleteCar(a){try{let e=new FormData;e.append("name",a.name),e.append("id",a.ID),e.append("image",a.image);let r=await ga.Z.post("http://localhost/ShopDashboard/Backend/api.php?action=delete",e);this.result.success=!0,this.result.error=!1,this.result.message=r.data.message,setTimeout((()=>{window.location.reload()}),1500)}catch(e){this.result.success=!1,this.result.error=!0,this.result.message=e.response?e.response.data.message:"An error occurred."}finally{setTimeout((()=>{this.hideCurrentModal("deleteCar-"+this.carData.ID)}),1e3)}},hideCurrentModal(a){document.getElementsByTagName("body")[0].removeAttribute("class"),document.getElementsByTagName("body")[0].removeAttribute("style");const e=document.getElementsByClassName("modal-backdrop");while(e.length>0)e[0].remove();const r=document.getElementsByClassName(a);while(r.length>0)r[0].remove()}}};const va=(0,l.Z)(pa,[["render",ha]]);var Ca=va,fa={name:"HomeView",components:{ShowCarDetails:K,DeleteCar:Ca},data(){return{cars:[],emptyCars:"",loading:!0}},mounted(){this.carsData()},methods:{getImageUrl(a){let e=r(5356);return e("./"+a)},formatPrice(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)},viewAddNewCar(){this.$router.push({name:"AddNewCar"})},UpdatePage(a){console.log(a),localStorage.setItem("currentCar",JSON.stringify(a)),this.$router.push({name:"UpdateCar"})},async carsData(){try{let a=await ga.Z.get("http://localhost/ShopDashboard/Backend/api.php?action=read");const e=a.data;"200"===e.status?this.cars=e.cars:this.emptyCars=e.message}catch(a){console.error("Error fetching data:",a),this.emptyCars="Error fetching data."}finally{this.loading=!1}}}};const ba=(0,l.Z)(fa,[["render",T],["__scopeId","data-v-143f1f2e"]]);var Da=ba;const Ma={class:"container"},wa=(0,s._)("h1",null,"Add New Car",-1),Ia=(0,s._)("div",null,null,-1),_a={action:"#",method:"POST",enctype:"multipart/form-data"},Ea={class:"row d-grid gap-2 w300 col-auto d-block mx-auto"},Na={key:0,class:"alert alert-success",role:"alert"},Pa={key:1,class:"alert alert-danger",role:"alert"},ya={class:"row g-3 align-items-center mb-3"},ka={class:"col-auto d-block mx-auto"},Sa=(0,s._)("label",{for:"carShopName"},"Car Name",-1),Ya={key:0,class:"error-feedback"},Va={class:"row g-3 align-items-center mb-3"},xa={class:"col-auto d-block mx-auto"},Ua=(0,s._)("label",{for:"carShopName"},"Car Price",-1),Ta={key:0,class:"error-feedback"},za={class:"row g-3 align-items-center mb-3"},ja={class:"col-auto d-block mx-auto"},Fa=(0,s._)("label",{for:"carShopName"},"Car Model Year",-1),Oa={key:0,class:"error-feedback"},Aa={class:"row g-3 align-items-center mb-3"},Ja={class:"col-auto d-block mx-auto"},qa=(0,s._)("label",{for:"carShopName"},"Car Image",-1),Ba={key:0,class:"error-feedback"},Ha={key:1},$a=(0,s._)("span",null,"Uploaded Car Image",-1),Za=(0,s._)("br",null,null,-1),Ra=["src"],Wa=(0,s._)("br",null,null,-1),Ga={class:"row g-3 align-items-center mb-3"},La={class:"col-auto d-block mx-auto"},Xa=(0,s._)("label",{for:"carShopName"},"Car Description",-1),Ka={key:0,class:"error-feedback"},Qa={class:"row d-grid gap-2 w300 col-auto d-block mx-auto"};function ae(a,e,r,i,l,c){return(0,s.wg)(),(0,s.iD)("div",Ma,[(0,s._)("button",{class:"btn btn-success mt-5",onClick:e[0]||(e[0]=(...a)=>c.viewHomePage&&c.viewHomePage(...a))}," Home Page "),wa,Ia,(0,s._)("div",null,[(0,s._)("form",_a,[(0,s._)("div",Ea,[l.resultSuccess?((0,s.wg)(),(0,s.iD)("div",Na,(0,m.zw)(l.resultSuccessMsg),1)):(0,s.kq)("",!0),l.resultErr?((0,s.wg)(),(0,s.iD)("div",Pa,(0,m.zw)(l.resultErrMsg),1)):(0,s.kq)("",!0)]),(0,s._)("div",ya,[(0,s._)("div",ka,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carNameErr}])},[(0,s.wy)((0,s._)("input",{type:"text",id:"carShopName",placeholder:"Car Name",onInput:e[1]||(e[1]=a=>c.validateCarName(a)),onChange:e[2]||(e[2]=a=>c.validateCarName(a)),class:"form-control w300","onUpdate:modelValue":e[3]||(e[3]=a=>l.carName=a)},null,544),[[t.nr,l.carName,void 0,{trim:!0}]]),Sa,l.carNameErr?((0,s.wg)(),(0,s.iD)("span",Ya,(0,m.zw)(l.carNameMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",Va,[(0,s._)("div",xa,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carPriceErr}])},[(0,s.wy)((0,s._)("input",{type:"text",id:"carShopPrice",onInput:e[4]||(e[4]=a=>c.validateCarPrice(a)),onChange:e[5]||(e[5]=a=>c.validateCarPrice(a)),placeholder:"Car Price",class:"form-control w300","onUpdate:modelValue":e[6]||(e[6]=a=>l.carPrice=a)},null,544),[[t.nr,l.carPrice,void 0,{trim:!0}]]),Ua,l.carPriceErr?((0,s.wg)(),(0,s.iD)("span",Ta,(0,m.zw)(l.carPriceMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",za,[(0,s._)("div",ja,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carModelYearErr}])},[(0,s.wy)((0,s._)("input",{type:"text",id:"carShopModelYear",placeholder:"Car Model Year",onInput:e[7]||(e[7]=a=>c.validateCarModel(a)),onChange:e[8]||(e[8]=a=>c.validateCarModel(a)),class:"form-control w300","onUpdate:modelValue":e[9]||(e[9]=a=>l.carModelYear=a)},null,544),[[t.nr,l.carModelYear,void 0,{trim:!0}]]),Fa,l.carModelYearErr?((0,s.wg)(),(0,s.iD)("span",Oa,(0,m.zw)(l.carModelYearErrMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",Aa,[(0,s._)("div",Ja,[l.UploadedImage?((0,s.wg)(),(0,s.iD)("div",Ha,[$a,Za,(0,s._)("img",{src:l.UploadedImage,class:"w150 rounded"},null,8,Ra),Wa,(0,s._)("button",{class:"btn btn-outline-danger my-2",onClick:e[12]||(e[12]=a=>c.removeImage())}," Remove ")])):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,m.C_)(["form-floating",{"from-data-error":l.carImageErr}])},[(0,s._)("input",{type:"file",id:"carShopImage",onInput:e[10]||(e[10]=a=>c.validateCarImage()),onChange:e[11]||(e[11]=a=>c.validateCarImage()),placeholder:"Car Image",class:"form-control w300 customFileField",ref:"carImage"},null,544),qa,l.carImageErr?((0,s.wg)(),(0,s.iD)("span",Ba,(0,m.zw)(l.carImageMsg),1)):(0,s.kq)("",!0)],2))])]),(0,s._)("div",Ga,[(0,s._)("div",La,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carDescriptionErr}])},[(0,s.wy)((0,s._)("textarea",{id:"carShopDescription",placeholder:"Car Description",class:"form-control w300 h125",onKeyup:e[13]||(e[13]=a=>c.validateCarDescription(a)),onChange:e[14]||(e[14]=a=>c.validateCarDescription(a)),"onUpdate:modelValue":e[15]||(e[15]=a=>l.carDescription=a)},null,544),[[t.nr,l.carDescription,void 0,{trim:!0}]]),Xa,l.carDescriptionErr?((0,s.wg)(),(0,s.iD)("span",Ka,(0,m.zw)(l.carDescriptionMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",Qa,[(0,s._)("button",{class:"btn btn-outline-success mb-2",onClick:e[16]||(e[16]=(0,t.iM)((a=>c.addNewCar()),["prevent"]))}," Add New Car "),(0,s._)("button",{type:"reset",class:"btn btn-outline-primary mb-3",onClick:e[17]||(e[17]=a=>c.resetFormError())}," Reset ")])])])])}var ee={name:"AddNewCar",data(){return{carName:"",carNameMsg:"",carPriceMsg:"",carPrice:"",carModelYearErrMsg:"",carModelYear:"",carImage:"",carImageMsg:"",carDescriptionMsg:"",carDescription:"",resultSuccessMsg:"",resultErrMsg:"",UploadedImage:"",carNameErr:!1,carPriceErr:!1,carModelYearErr:!1,carImageErr:!1,carDescriptionErr:!1,resultErr:!1,resultSuccess:!1,isCarNameValid:!1,isCarPriceValid:!1,isCarModelYearValid:!1,isCarImageValid:!1,isCarDescriptionValid:!1}},methods:{viewHomePage(){this.$router.push({name:"home"})},validateCarName(a){let e=a.target.value;this.validateCarNameInput(e)},validateCarNameInput(a){""==a?(this.isCarNameValid=!1,this.carNameErr=!0,this.carNameMsg="Please enter a car name"):""==a||isNaN(a)?a.length<3?(this.isCarNameValid=!1,this.carNameErr=!0,this.carNameMsg="The name must be at least 10 characters"):(this.isCarNameValid=!0,this.carNameErr=!1,this.carNameMsg=""):(this.isCarNameValid=!1,this.carNameErr=!0,this.carNameMsg="Please enter a name for the car")},validateCarPrice(a){let e=a.target.value;this.validateCarPriceInput(e)},validateCarPriceInput(a){""==a?(this.isCarPriceValid=!1,this.carPriceErr=!0,this.carPriceMsg="Please enter the car price value"):""!=a&&a<=0||0==a?(this.isCarPriceValid=!1,this.carPriceErr=!0,this.carPriceMsg="Please enter a valid car price value"):""!=a&&isNaN(a)?(this.isCarPriceValid=!1,this.carPriceErr=!0,this.carPriceMsg="The value must be a number"):(this.isCarPriceValid=!0,this.carPriceErr=!1,this.carPriceMsg="")},validateCarModel(a){let e=a.target.value;this.validateCarModelInput(e)},validateCarModelInput(a){""==a?(this.isCarModelYearValid=!1,this.carModelYearErr=!0,this.carModelYearErrMsg="Please enter the Model Year. ex: 2006"):!1===/^[0-9]+$/i.test(a)?(this.isCarModelYearValid=!1,this.carModelYearErr=!0,this.carModelYearErrMsg="enter a valid Model Year. ex: 2006"):a.length<4||a.length>4?(this.isCarModelYearValid=!1,this.carModelYearErr=!0,this.carModelYearErrMsg="enter a valid car Model Year. ex: 2006"):(this.isCarModelYearValid=!0,this.carModelYearErr=!1,this.carModelYearErrMsg="")},validateCarDescription(a){let e=a.target.value;this.validateCarDescriptionInput(e)},validateCarDescriptionInput(a){""==a?(this.isCarDescriptionValid=!1,this.carDescriptionErr=!0,this.carDescriptionMsg="Please enter a Description."):""==a||isNaN(a)?a&&a.length>100?(this.isCarDescriptionValid=!1,this.carDescriptionErr=!0,this.carDescriptionMsg="The Description must be less than 100 chars"):(this.isCarDescriptionValid=!0,this.carDescriptionErr=!1,this.carDescriptionMsg=""):(this.isCarDescriptionValid=!1,this.carDescriptionErr=!0,this.carDescriptionMsg="Enter a valid car description")},validateFileExtension(a){let e=document.getElementById(a),r=e.value,t=/(\.jpg|\.jpeg|\.gif|\.png)/;return!!t.exec(r)},createImage(a){new Image;let e=new FileReader;e.onload=a=>{this.UploadedImage=a.target.result},e.readAsDataURL(a)},removeImage(){this.UploadedImage="",setTimeout((()=>{this.validateCarImage()}),500)},validateCarImage(){this.$refs.carImage.files[0]?1==this.validateFileExtension("carShopImage")?(this.carImageErr=!1,this.isCarImageValid=!0,this.carImageMsg="",this.createImage(this.$refs.carImage.files[0]),this.carImage=this.$refs.carImage.files[0]):(this.carImageErr=!0,this.isCarImageValid=!1,this.carImageMsg="The Image has to be EX:(.PNG,.JPG,.GIF)"):(this.carImageErr=!0,this.isCarImageValid=!1,this.carImageMsg="Please Select Car Image.")},async addNewCar(){if(this.isCarNameValid&&this.isCarPriceValid&&this.isCarModelYearValid&&this.isCarImageValid&&this.isCarDescriptionValid){this.resultSuccess=!0,this.resultErr=!1,this.resultErrMsg="";let a=new FormData;a.append("name",this.carName),a.append("description",this.carDescription),a.append("image",this.carImage),a.append("price",this.carPrice),a.append("modelYear",this.carModelYear);let e=await ga.Z.post("http://localhost/ShopDashboard/Backend/api.php?action=insert",a);const r=e.data;200==e.status&&(this.resultSuccessMsg="Added Successfully",this.resultSuccess=!0,this.resultErr=!1,this.resultErrMsg="",setTimeout((()=>{this.$router.push({name:"home"})}),2e3),400==e.status&&(this.resultErrMsg=r.message,this.resultErr=!0,this.resultSuccess=!1))}else this.resultErrMsg="Try Again!",this.resultErr=!0,this.resultSuccess=!1,this.resultSuccessMsg="",this.validateCarNameInput(this.carName),this.validateCarPriceInput(this.carPrice),this.validateCarModelInput(this.carModelYear),this.validateCarDescriptionInput(this.carDescription),this.validateCarImage()},resetFormError(){this.carNameErr=!1,this.carPriceErr=!1,this.carModelYearErr=!1,this.carImageErr=!1,this.carDescriptionErr=!1,this.resultErr=!1,this.resultSuccess=!1,this.carNameMsg="",this.carPriceMsg="",this.carModelYearErrMsg="",this.carImageMsg="",this.carDescriptionMsg="",this.resultSuccessMsg="",this.resultErrMsg=""}}};const re=(0,l.Z)(ee,[["render",ae]]);var te=re;const se={class:"container"},ie=(0,s._)("h1",null,"Update Car",-1),le=(0,s._)("div",null,null,-1),ce={action:"#",method:"POST",enctype:"multipart/form-data"},oe={class:"row d-grid gap-2 w300 col-auto d-block mx-auto"},ne={key:0,class:"alert alert-success",role:"alert"},de={key:1,class:"alert alert-danger",role:"alert"},me={class:"row g-3 align-items-center mb-3"},ue={class:"col-auto d-block mx-auto"},he=(0,s._)("label",{for:"carShopName"},"Car Name",-1),ge={key:0,class:"error-feedback"},pe={class:"row g-3 align-items-center mb-3"},ve={class:"col-auto d-block mx-auto"},Ce=(0,s._)("label",{for:"carShopName"},"Car Price",-1),fe={key:0,class:"error-feedback"},be={class:"row g-3 align-items-center mb-3"},De={class:"col-auto d-block mx-auto"},Me=(0,s._)("label",{for:"carShopName"},"Car Model Year",-1),we={key:0,class:"error-feedback"},Ie={class:"row g-3 align-items-center mb-3"},_e={class:"col-auto d-block mx-auto"},Ee=(0,s._)("label",{for:"carShopName"},"Car Image",-1),Ne={key:0,class:"error-feedback"},Pe={key:1},ye=(0,s._)("span",null,"Uploaded Car Image",-1),ke=(0,s._)("br",null,null,-1),Se=["src"],Ye=(0,s._)("br",null,null,-1),Ve={class:"row g-3 align-items-center mb-3"},xe={class:"col-auto d-block mx-auto"},Ue=(0,s._)("label",{for:"carShopName"},"Car Description",-1),Te={key:0,class:"error-feedback"},ze={class:"row d-grid gap-2 w300 col-auto d-block mx-auto"};function je(a,e,r,i,l,c){return(0,s.wg)(),(0,s.iD)("div",se,[(0,s._)("button",{class:"btn btn-success mt-5",onClick:e[0]||(e[0]=(...a)=>c.viewHomePage&&c.viewHomePage(...a))}," Home Page "),ie,le,(0,s._)("div",null,[(0,s._)("form",ce,[(0,s._)("div",oe,[l.resultSuccess?((0,s.wg)(),(0,s.iD)("div",ne,(0,m.zw)(l.resultSuccessMsg),1)):(0,s.kq)("",!0),l.resultErr?((0,s.wg)(),(0,s.iD)("div",de,(0,m.zw)(l.resultErrMsg),1)):(0,s.kq)("",!0)]),(0,s._)("div",me,[(0,s._)("div",ue,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carNameErr}])},[(0,s.wy)((0,s._)("input",{type:"text",id:"carShopName",placeholder:"Car Name",onInput:e[1]||(e[1]=a=>c.validateCarName(a)),onChange:e[2]||(e[2]=a=>c.validateCarName(a)),class:"form-control w300","onUpdate:modelValue":e[3]||(e[3]=a=>l.carName=a)},null,544),[[t.nr,l.carName,void 0,{trim:!0}]]),he,l.carNameErr?((0,s.wg)(),(0,s.iD)("span",ge,(0,m.zw)(l.carNameMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",pe,[(0,s._)("div",ve,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carPriceErr}])},[(0,s.wy)((0,s._)("input",{type:"text",id:"carShopPrice",onInput:e[4]||(e[4]=a=>c.validateCarPrice(a)),onChange:e[5]||(e[5]=a=>c.validateCarPrice(a)),placeholder:"Car Price",class:"form-control w300","onUpdate:modelValue":e[6]||(e[6]=a=>l.carPrice=a)},null,544),[[t.nr,l.carPrice,void 0,{trim:!0}]]),Ce,l.carPriceErr?((0,s.wg)(),(0,s.iD)("span",fe,(0,m.zw)(l.carPriceMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",be,[(0,s._)("div",De,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carModelYearErr}])},[(0,s.wy)((0,s._)("input",{type:"text",id:"carShopModelYear",placeholder:"Car Model Year",onInput:e[7]||(e[7]=a=>c.validateCarModel(a)),onChange:e[8]||(e[8]=a=>c.validateCarModel(a)),class:"form-control w300","onUpdate:modelValue":e[9]||(e[9]=a=>l.carModelYear=a)},null,544),[[t.nr,l.carModelYear,void 0,{trim:!0}]]),Me,l.carModelYearErr?((0,s.wg)(),(0,s.iD)("span",we,(0,m.zw)(l.carModelYearErrMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",Ie,[(0,s._)("div",_e,[l.UploadedImage?((0,s.wg)(),(0,s.iD)("div",Pe,[ye,ke,(0,s._)("img",{src:c.getImageUrl(l.UploadedImage),class:"w150 rounded"},null,8,Se),Ye])):((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,m.C_)(["form-floating",{"from-data-error":l.carImageErr}])},[(0,s._)("input",{type:"file",id:"carShopImage",onInput:e[10]||(e[10]=a=>c.validateCarImage()),onChange:e[11]||(e[11]=a=>c.validateCarImage()),onClick:e[12]||(e[12]=a=>c.validateCarImage()),class:"form-control w300 customFileField",ref:"carImage"},null,544),Ee,l.carImageErr?((0,s.wg)(),(0,s.iD)("span",Ne,(0,m.zw)(l.carImageMsg),1)):(0,s.kq)("",!0)],2))])]),(0,s._)("div",Ve,[(0,s._)("div",xe,[(0,s._)("div",{class:(0,m.C_)(["form-floating",{"from-data-error":l.carDescriptionErr}])},[(0,s.wy)((0,s._)("textarea",{id:"carShopDescription",placeholder:"Car Description",class:"form-control w300 h125",onKeyup:e[13]||(e[13]=a=>c.validateCarDescription(a)),onChange:e[14]||(e[14]=a=>c.validateCarDescription(a)),"onUpdate:modelValue":e[15]||(e[15]=a=>l.carDescription=a)},null,544),[[t.nr,l.carDescription,void 0,{trim:!0}]]),Ue,l.carDescriptionErr?((0,s.wg)(),(0,s.iD)("span",Te,(0,m.zw)(l.carDescriptionMsg),1)):(0,s.kq)("",!0)],2)])]),(0,s._)("div",ze,[(0,s._)("button",{class:"btn btn-outline-warning mb-2",onClick:e[16]||(e[16]=(0,t.iM)((a=>c.UpdateCar()),["prevent"]))}," Update ")])])])])}var Fe={name:"UpdateCar",data(){return{carName:"",carNameMsg:"",carPriceMsg:"",carPrice:"",carModelYearErrMsg:"",carModelYear:"",carImage:"",carImageMsg:"",carDescriptionMsg:"",carDescription:"",resultSuccessMsg:"",resultErrMsg:"",UploadedImage:"",currentCarId:"",carNameErr:!1,carPriceErr:!1,carModelYearErr:!1,carImageErr:!1,carDescriptionErr:!1,resultErr:!1,resultSuccess:!1,isCarNameValid:!1,isCarPriceValid:!1,isCarModelYearValid:!1,isCarImageValid:!1,isCarDescriptionValid:!1}},mounted(){let a=localStorage.getItem("currentCar");a?(this.currentCarId=JSON.parse(a).ID,this.carName=JSON.parse(a).name,this.carPrice=JSON.parse(a).price,this.carModelYear=JSON.parse(a).modelYear,this.carDescription=JSON.parse(a).description,this.UploadedImage=JSON.parse(a).image,this.isCarNameValid=!0,this.isCarDescriptionValid=!0,this.isCarImageValid=!0,this.isCarPriceValid=!0,this.isCarModelYearValid=!0):this.$router.push({name:"home"})},methods:{getImageUrl(a){let e=r(5356);return e("./"+a)},viewHomePage(){this.$router.push({name:"home"})},validateCarName(a){let e=a.target.value;this.validateCarNameInput(e)},validateCarNameInput(a){""==a?(this.isCarNameValid=!1,this.carNameErr=!0,this.carNameMsg="Please enter a car name"):""==a||isNaN(a)?a.length<3?(this.isCarNameValid=!1,this.carNameErr=!0,this.carNameMsg="The name must be at least 10 characters"):(this.isCarNameValid=!0,this.carNameErr=!1,this.carNameMsg=""):(this.isCarNameValid=!1,this.carNameErr=!0,this.carNameMsg="Please enter a name for the car")},validateCarPrice(a){let e=a.target.value;this.validateCarPriceInput(e)},validateCarPriceInput(a){""==a?(this.isCarPriceValid=!1,this.carPriceErr=!0,this.carPriceMsg="Please enter the car price value"):""!=a&&a<=0||0==a?(this.isCarPriceValid=!1,this.carPriceErr=!0,this.carPriceMsg="Please enter a valid car price value"):""!=a&&isNaN(a)?(this.isCarPriceValid=!1,this.carPriceErr=!0,this.carPriceMsg="The value must be a number"):(this.isCarPriceValid=!0,this.carPriceErr=!1,this.carPriceMsg="")},validateCarModel(a){let e=a.target.value;this.validateCarModelInput(e)},validateCarModelInput(a){""==a?(this.isCarModelYearValid=!1,this.carModelYearErr=!0,this.carModelYearErrMsg="Please enter the Model Year. ex: 2006"):!1===/^[0-9]+$/i.test(a)?(this.isCarModelYearValid=!1,this.carModelYearErr=!0,this.carModelYearErrMsg="enter a valid Model Year. ex: 2006"):a.length<4||a.length>4?(this.isCarModelYearValid=!1,this.carModelYearErr=!0,this.carModelYearErrMsg="enter a valid car Model Year. ex: 2006"):(this.isCarModelYearValid=!0,this.carModelYearErr=!1,this.carModelYearErrMsg="")},validateCarDescription(a){let e=a.target.value;this.validateCarDescriptionInput(e)},validateCarDescriptionInput(a){""==a?(this.isCarDescriptionValid=!1,this.carDescriptionErr=!0,this.carDescriptionMsg="Please enter a Description."):""==a||isNaN(a)?a&&a.length>100?(this.isCarDescriptionValid=!1,this.carDescriptionErr=!0,this.carDescriptionMsg="The Description must be less than 100 chars"):(this.isCarDescriptionValid=!0,this.carDescriptionErr=!1,this.carDescriptionMsg=""):(this.isCarDescriptionValid=!1,this.carDescriptionErr=!0,this.carDescriptionMsg="Enter a valid car description")},validateFileExtension(a){let e=document.getElementById(a),r=e.value,t=/(\.jpg|\.jpeg|\.gif|\.png)/;return!!t.exec(r)},createImage(a){new Image;let e=new FileReader;e.onload=a=>{this.UploadedImage=a.target.result},e.readAsDataURL(a)},validateCarImage(){this.$refs.carImage.files[0]?1==this.validateFileExtension("carShopImage")?(this.carImageErr=!1,this.isCarImageValid=!0,this.carImageMsg="",this.createImage(this.$refs.carImage.files[0]),this.carImage=this.$refs.carImage.files[0]):(this.carImageErr=!0,this.isCarImageValid=!1,this.carImageMsg="The Image has to be EX:(.PNG,.JPG,.GIF)"):(this.carImageErr=!0,this.isCarImageValid=!1,this.carImageMsg="Please Select Car Image.")},async UpdateCar(){if(this.isCarNameValid&&this.isCarPriceValid&&this.isCarModelYearValid&&this.isCarImageValid&&this.isCarDescriptionValid){this.resultSuccess=!0,this.resultErr=!1,this.resultErrMsg="";let a=new FormData;a.append("ID",this.currentCarId),a.append("name",this.carName),a.append("description",this.carDescription),a.append("price",this.carPrice),a.append("modelYear",this.carModelYear);let e=await ga.Z.post("http://localhost/ShopDashboard/Backend/api.php?action=update",a);const r=e.data;201==r.status&&(this.resultSuccessMsg=r.message,this.resultSuccess=!0,this.resultErr=!1,this.resultErrMsg="",setTimeout((()=>{this.$router.push({name:"home"}),localStorage.clear()}),2e3),400==r.status&&(this.resultErrMsg=r.message,this.resultErr=!0,this.resultSuccess=!1))}else this.resultErrMsg="Try Again!",this.resultErr=!0,this.resultSuccess=!1,this.resultSuccessMsg="",this.validateCarNameInput(this.carName),this.validateCarPriceInput(this.carPrice),this.validateCarModelInput(this.carModelYear),this.validateCarDescriptionInput(this.carDescription),this.validateCarImage()}}};const Oe=(0,l.Z)(Fe,[["render",je]]);var Ae=Oe;const Je=[{path:"/",name:"home",component:Da},{path:"/add/new-car",name:"AddNewCar",component:te},{path:"/update/current-car",name:"UpdateCar",component:Ae}],qe=(0,d.p7)({history:(0,d.PO)("/"),routes:Je});var Be=qe,He=r(65),$e=(0,He.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});r(2166);(0,t.ri)(n).use($e).use(Be).mount("#app")},5356:function(a,e,r){var t={"./UJ0d4R1PYdLNjWiaWwTYQVPmkcoiAwb88PlhhjIU58MT5yaYIgrbIS7VJ0Pq.jpg":730,"./qdPxU0Ji4DSI7fs8afPXffT0ozH47177iuQYj8wdWJPBwlgAJ5ixwMrFe7B0.jpeg":3546,"./sofUakZhieinFW6iXYJRxB3vpSFAelFH0moTYDDvHJKgfzBlx5tNHhGhVbLg.jpeg":9558};function s(a){var e=i(a);return r(e)}function i(a){if(!r.o(t,a)){var e=new Error("Cannot find module '"+a+"'");throw e.code="MODULE_NOT_FOUND",e}return t[a]}s.keys=function(){return Object.keys(t)},s.resolve=i,a.exports=s,s.id=5356},730:function(a,e,r){"use strict";a.exports=r.p+"img/UJ0d4R1PYdLNjWiaWwTYQVPmkcoiAwb88PlhhjIU58MT5yaYIgrbIS7VJ0Pq.4dfd86b7.jpg"},3546:function(a,e,r){"use strict";a.exports=r.p+"img/qdPxU0Ji4DSI7fs8afPXffT0ozH47177iuQYj8wdWJPBwlgAJ5ixwMrFe7B0.d1a47700.jpeg"},9558:function(a,e,r){"use strict";a.exports=r.p+"img/sofUakZhieinFW6iXYJRxB3vpSFAelFH0moTYDDvHJKgfzBlx5tNHhGhVbLg.ad3c44ce.jpeg"}},e={};function r(t){var s=e[t];if(void 0!==s)return s.exports;var i=e[t]={exports:{}};return a[t].call(i.exports,i,i.exports,r),i.exports}r.m=a,function(){var a=[];r.O=function(e,t,s,i){if(!t){var l=1/0;for(d=0;d<a.length;d++){t=a[d][0],s=a[d][1],i=a[d][2];for(var c=!0,o=0;o<t.length;o++)(!1&i||l>=i)&&Object.keys(r.O).every((function(a){return r.O[a](t[o])}))?t.splice(o--,1):(c=!1,i<l&&(l=i));if(c){a.splice(d--,1);var n=s();void 0!==n&&(e=n)}}return e}i=i||0;for(var d=a.length;d>0&&a[d-1][2]>i;d--)a[d]=a[d-1];a[d]=[t,s,i]}}(),function(){r.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return r.d(e,{a:e}),e}}(),function(){r.d=function(a,e){for(var t in e)r.o(e,t)&&!r.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:e[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){r.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){r.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var a={143:0};r.O.j=function(e){return 0===a[e]};var e=function(e,t){var s,i,l=t[0],c=t[1],o=t[2],n=0;if(l.some((function(e){return 0!==a[e]}))){for(s in c)r.o(c,s)&&(r.m[s]=c[s]);if(o)var d=o(r)}for(e&&e(t);n<l.length;n++)i=l[n],r.o(a,i)&&a[i]&&a[i][0](),a[i]=0;return r.O(d)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(3225)}));t=r.O(t)})();
//# sourceMappingURL=app.b71f343c.js.map